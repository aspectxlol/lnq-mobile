import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../providers/settings_provider.dart';

class AppStrings {
  static final Map<String, Map<String, String>> _strings = {
    'en': {
      // App
      'products': 'Products',
      'orders': 'Orders',
      'settings': 'Settings',

      // Products Screen
      'switchToListView': 'Switch to List View',
      'switchToCardView': 'Switch to Card View',
      'noProducts': 'No Products',
      'noProductsAvailable': 'No products available at the moment.',
      'failedToLoadProduct': 'Failed to load product',
      'goBack': 'Go Back',
      'productId': 'Product ID',
      'created': 'Created',
      'addToOrder': 'Add to Order',

      // Orders Screen
      'sortAndFilter': 'Sort & Filter',
      'pickupDateRange': 'Pickup Date Range',
      'sortBy': 'Sort By',
      'ascending': 'Ascending',
      'descending': 'Descending',
      'sortOrder': 'Sort Order',
      'hidePast': 'Hide Past',
      'clearFilters': 'Clear Filters',
      'apply': 'Apply',
      'searchByCustomerOrOrderId': 'Search by customer or order ID',
      'noOrdersFoundForCriteria': 'No orders found for the selected criteria.',
      'newOrder': 'New Order',
      'switchToCalendarView': 'Switch to Calendar View',
      'switchToListViewOrder': 'Switch to List View',
      'noOrders': 'No Orders',
      'noOrdersAvailable': 'No orders available at the moment.',
      'createFirstOrder': 'Create your first order to get started.',
      'selectADate': 'Select a date',
      'order': 'order',
      'ordersPlural': 'orders',
      'noOrdersScheduled': 'No orders scheduled for this date.',
      'selectDateToView': 'Select a date to view orders.',
      'scheduled': 'Scheduled',
      'new': 'New',
      'pickup': 'Pickup',
      'items': 'items',

      // Create/Edit Order
      'createOrder': 'Create Order',
      'editOrder': 'Edit Order',
      'editOrderTitle': 'Edit Order',
      'customerName': 'Customer Name',
      'enterCustomerName': 'Enter customer name',
      'pleaseEnterCustomerName': 'Please enter customer name',
      'selectPickupDate': 'Select Pickup Date',
      'pickupDate': 'Pickup Date',
      'pickupDateOptional': 'Pickup Date',
      'noPickupDateSet': 'No pickup date set',
      'clearPickupDate': 'Clear pickup date',
      'orderNotesOptional': 'Order Notes',
      'orderNotesHint': 'e.g., Call when ready, Rush order',
      'selectProducts': 'Select Products',
      'orderItems': 'Order Items',
      'addItem': 'Add Item',
      'noItemsAdded': 'No items added',
      'tapAddItem': 'Tap "Add Item" to select products',
      'quantity': 'Quantity',
      'pleaseSelectAtLeastOneProduct': 'Please select at least one product',
      'pleaseAddAtLeastOneItem': 'Please add at least one item',
      'createOrderError': 'Error creating order',
      'orderCreatedSuccessfully': 'Order created successfully',
      'orderCreationFailed': 'Failed to create order',
      'creating': 'Creating...',
      'saving': 'Saving...',
      'saveChanges': 'Save Changes',
      'addProductsBeforeOrders': 'Add products before creating orders.',

      // Add Product Dialog
      'addProduct': 'Add Product',
      'selectProduct': 'Select Product',
      'allProductsAdded': 'All products have been added',
      'itemNotesOptional': 'Item Notes',
      'itemNotesHint': 'e.g., Extra hot, No sugar',
      'subtotal': 'Subtotal',

      // Product Details
      'productDetails': 'Product Details',
      'price': 'Price',
      'priceAtSaleOptional': 'Price at Sale',
      'stock': 'Stock',
      'description': 'Description',
      'loadingProductFailed': 'Failed to load product',
      'deleteProduct': 'Delete Product',
      'deleteProductConfirm': 'Are you sure you want to delete this product?',
      'productDeletedSuccessfully': 'Product deleted successfully',
      'failedToDeleteProduct': 'Failed to delete product',
      'editProduct': 'Edit Product',
      'createNewProduct': 'Create New Product',
      'productImage': 'Product Image',
      'uploadImage': 'Upload Image',
      'selectImageFromGallery': 'Select from Gallery',
      'removeImage': 'Remove Image',
      'noImageSelected': 'No image selected',
      'imageUploadFailed': 'Failed to upload image',
      'productCreatedSuccessfully': 'Product created successfully',
      'failedToCreateProduct': 'Failed to create product',
      'productUpdatedSuccessfully': 'Product updated successfully',
      'failedToUpdateProduct': 'Failed to update product',
      'productNameRequired': 'Product name is required',
      'priceRequired': 'Price is required',
      'selectImage': 'Select Image',
      'name': 'Name',
      'enterProductName': 'Enter product name',
      'enterProductDescription': 'Enter product description',
      'enterProductPrice': 'Enter product price',
      'searchByName': 'Search by product name',
      'noDescription': 'No description available',

      // Order Details
      'orderDetails': 'Order Details',
      'orderInformation': 'Order Information',
      'orderNotes': 'Order Notes',
      'status': 'Status',
      'total': 'Total',
      'totalAmount': 'Total Amount',
      'printOrder': 'Print Order',
      'printing': 'Printing...',
      'orderSentToPrinter': 'Order sent to printer',
      'failedToPrint': 'Failed to print',
      'loadingOrderFailed': 'Failed to load order',
      'orderPrintedSuccessfully': 'Order printed successfully',
      'orderPrintFailed': 'Failed to print order',
      'deleteOrder': 'Delete Order',
      'deleteOrderConfirm': 'Are you sure you want to delete this order?',
      'failedToDelete': 'Failed to delete',
      'orderUpdatedSuccessfully': 'Order updated successfully',
      'failedToUpdateOrder': 'Failed to update order',
      'failedToLoadProducts': 'Failed to load products',

      // Backend Configuration
      'backendConfiguration': 'Backend Configuration',
      'backendConfigurationDesc':
          'Configure the backend server URL for the app.',
      'serverUrl': 'Server URL',
      'backendUrl': 'Backend URL',
      'backendUrlHint': 'http://localhost:3000',
      'pleaseEnterBackendUrl': 'Please enter backend URL',
      'urlMustStartWithHttp': 'URL must start with http:// or https://',
      'testConnection': 'Test Connection',
      'testing': 'Testing...',
      'discoveringBackend': 'Discovering Backend...',
      'backendDiscovered': 'Backend discovered and connected',
      'backendDiscoveryFailed': 'Could not discover backend on local network',

      // Common
      'save': 'Save',
      'cancel': 'Cancel',
      'delete': 'Delete',
      'edit': 'Edit',
      'add': 'Add',
      'confirm': 'Confirm',
      'reset': 'Reset',
      'loading': 'Loading...',
      'error': 'Error',
      'success': 'Success',
      'retry': 'Retry',
      'addCustom': 'Add Custom',
      'addCustomItem': 'Add Custom Item',
      'customItemName': 'Custom Item Name',
      'createdDate': 'Created Date',
      'pickupDateLabel': 'Pickup Date',

      // Messages
      'connectionSuccessful': 'Connection successful!',
      'connectionFailed': 'Connection failed',
      'settingsSavedSuccessfully': 'Settings saved successfully',
      'failedToSaveSettings': 'Failed to save settings',
      'settingsResetToDefault': 'Settings reset to default',
      'failedToResetSettings': 'Failed to reset settings',

      // Quick Actions & Settings
      'quickActions': 'Quick Actions',
      'resetToDefault': 'Reset to Default',
      'resetToDefaultTitle': 'Reset to Default',
      'resetToDefaultConfirm':
          'Are you sure you want to reset the backend URL to default?',
      'language': 'Language',
      'indonesian': 'ðŸ‡®ðŸ‡© Bahasa Indonesia',
      'english': 'ðŸ‡ºðŸ‡¸ English',
      'about': 'About',
      'appName': 'App Name',
      'version': 'Version',
      'currentUrl': 'Current URL',
    },
    'id': {
      // App
      'products': 'Produk',
      'orders': 'Pesanan',
      'settings': 'Pengaturan',

      // Products Screen
      'switchToListView': 'Beralih ke Tampilan Daftar',
      'switchToCardView': 'Beralih ke Tampilan Kartu',
      'noProducts': 'Tidak Ada Produk',
      'noProductsAvailable': 'Tidak ada produk tersedia saat ini.',
      'failedToLoadProduct': 'Gagal memuat produk',
      'goBack': 'Kembali',
      'productId': 'ID Produk',
      'created': 'Dibuat',
      'addToOrder': 'Tambah ke Pesanan',

      // Orders Screen
      'sortAndFilter': 'Urut & Filter',
      'pickupDateRange': 'Rentang Tanggal Pengambilan',
      'sortBy': 'Urut Berdasarkan',
      'ascending': 'Naik',
      'descending': 'Turun',
      'sortOrder': 'Urutan',
      'hidePast': 'Sembunyikan yang Lalu',
      'clearFilters': 'Hapus Filter',
      'apply': 'Terapkan',
      'searchByCustomerOrOrderId': 'Cari berdasarkan pelanggan atau ID pesanan',
      'noOrdersFoundForCriteria': 'Tidak ada pesanan ditemukan untuk kriteria yang dipilih.',
      'newOrder': 'Pesanan Baru',
      'switchToCalendarView': 'Beralih ke Tampilan Kalender',
      'switchToListViewOrder': 'Beralih ke Tampilan Daftar',
      'noOrders': 'Tidak Ada Pesanan',
      'noOrdersAvailable': 'Tidak ada pesanan tersedia saat ini.',
      'createFirstOrder': 'Buat pesanan pertama Anda untuk memulai.',
      'selectADate': 'Pilih tanggal',
      'order': 'pesanan',
      'ordersPlural': 'pesanan',
      'noOrdersScheduled': 'Tidak ada pesanan terjadwal untuk tanggal ini.',
      'selectDateToView': 'Pilih tanggal untuk melihat pesanan.',
      'scheduled': 'Terjadwal',
      'new': 'Baru',
      'pickup': 'Pengambilan',
      'items': 'item',

      // Create/Edit Order
      'createOrder': 'Buat Pesanan',
      'editOrder': 'Edit Pesanan',
      'editOrderTitle': 'Edit Pesanan',
      'customerName': 'Nama Pelanggan',
      'enterCustomerName': 'Masukkan nama pelanggan',
      'pleaseEnterCustomerName': 'Mohon masukkan nama pelanggan',
      'selectPickupDate': 'Pilih Tanggal Pengambilan',
      'pickupDate': 'Tanggal Pengambilan',
      'pickupDateOptional': 'Tanggal Pengambilan',
      'noPickupDateSet': 'Tanggal pengambilan belum diatur',
      'clearPickupDate': 'Hapus tanggal pengambilan',
      'orderNotesOptional': 'Catatan Pesanan',
      'orderNotesHint': 'cth., Hubungi saat siap, Pesanan cepat',
      'selectProducts': 'Pilih Produk',
      'orderItems': 'Item Pesanan',
      'addItem': 'Tambah Item',
      'noItemsAdded': 'Belum ada item',
      'tapAddItem': 'Ketuk "Tambah Item" untuk memilih produk',
      'quantity': 'Jumlah',
      'pleaseSelectAtLeastOneProduct': 'Mohon pilih setidaknya satu produk',
      'pleaseAddAtLeastOneItem': 'Mohon tambah setidaknya satu item',
      'createOrderError': 'Kesalahan membuat pesanan',
      'orderCreatedSuccessfully': 'Pesanan berhasil dibuat',
      'orderCreationFailed': 'Gagal membuat pesanan',
      'creating': 'Membuat...',
      'saving': 'Menyimpan...',
      'saveChanges': 'Simpan Perubahan',
      'addProductsBeforeOrders': 'Tambah produk sebelum membuat pesanan.',

      // Add Product Dialog
      'addProduct': 'Tambah Produk',
      'selectProduct': 'Pilih Produk',
      'allProductsAdded': 'Semua produk telah ditambahkan',
      'itemNotesOptional': 'Catatan Item',
      'itemNotesHint': 'cth., Ekstra panas, Tanpa gula',
      'subtotal': 'Subtotal',

      // Product Details
      'productDetails': 'Detail Produk',
      'price': 'Harga',
      'priceAtSaleOptional': 'Harga Saat Penjualan',
      'stock': 'Stok',
      'description': 'Deskripsi',
      'loadingProductFailed': 'Gagal memuat produk',
      'deleteProduct': 'Hapus Produk',
      'deleteProductConfirm': 'Apakah Anda yakin ingin menghapus produk ini?',
      'productDeletedSuccessfully': 'Produk berhasil dihapus',
      'failedToDeleteProduct': 'Gagal menghapus produk',
      'editProduct': 'Edit Produk',
      'createNewProduct': 'Buat Produk Baru',
      'productImage': 'Gambar Produk',
      'uploadImage': 'Unggah Gambar',
      'selectImageFromGallery': 'Pilih dari Galeri',
      'removeImage': 'Hapus Gambar',
      'noImageSelected': 'Tidak ada gambar yang dipilih',
      'imageUploadFailed': 'Gagal mengunggah gambar',
      'productCreatedSuccessfully': 'Produk berhasil dibuat',
      'failedToCreateProduct': 'Gagal membuat produk',
      'productUpdatedSuccessfully': 'Produk berhasil diperbarui',
      'failedToUpdateProduct': 'Gagal memperbarui produk',
      'productNameRequired': 'Nama produk diperlukan',
      'priceRequired': 'Harga diperlukan',
      'selectImage': 'Pilih Gambar',
      'name': 'Nama',
      'enterProductName': 'Masukkan nama produk',
      'enterProductDescription': 'Masukkan deskripsi produk',
      'enterProductPrice': 'Masukkan harga produk',
      'searchByName': 'Cari berdasarkan nama produk',
      'noDescription': 'Tidak ada deskripsi tersedia',

      // Order Details
      'orderDetails': 'Detail Pesanan',
      'orderInformation': 'Informasi Pesanan',
      'orderNotes': 'Catatan Pesanan',
      'status': 'Status',
      'total': 'Total',
      'totalAmount': 'Jumlah Total',
      'printOrder': 'Cetak Pesanan',
      'printing': 'Mencetak...',
      'orderSentToPrinter': 'Pesanan dikirim ke printer',
      'failedToPrint': 'Gagal mencetak',
      'loadingOrderFailed': 'Gagal memuat pesanan',
      'orderPrintedSuccessfully': 'Pesanan berhasil dicetak',
      'orderPrintFailed': 'Gagal mencetak pesanan',
      'deleteOrder': 'Hapus Pesanan',
      'deleteOrderConfirm': 'Apakah Anda yakin ingin menghapus pesanan ini?',
      'failedToDelete': 'Gagal menghapus',
      'orderUpdatedSuccessfully': 'Pesanan berhasil diperbarui',
      'failedToUpdateOrder': 'Gagal memperbarui pesanan',
      'failedToLoadProducts': 'Gagal memuat produk',

      // Backend Configuration
      'backendConfiguration': 'Konfigurasi Backend',
      'backendConfigurationDesc': 'Atur URL server backend untuk aplikasi.',
      'serverUrl': 'URL Server',
      'backendUrl': 'URL Backend',
      'backendUrlHint': 'http://localhost:3000',
      'pleaseEnterBackendUrl': 'Mohon masukkan URL backend',
      'urlMustStartWithHttp': 'URL harus dimulai dengan http:// atau https://',
      'testConnection': 'Tes Koneksi',
      'testing': 'Menguji...',
      'discoveringBackend': 'Menemukan Backend...',
      'backendDiscovered': 'Backend ditemukan dan terhubung',
      'backendDiscoveryFailed': 'Tidak dapat menemukan backend di jaringan lokal',

      // Common
      'save': 'Simpan',
      'cancel': 'Batal',
      'delete': 'Hapus',
      'edit': 'Edit',
      'add': 'Tambah',
      'confirm': 'Konfirmasi',
      'reset': 'Kembalikan',
      'loading': 'Memuat...',
      'error': 'Kesalahan',
      'success': 'Berhasil',
      'retry': 'Coba Lagi',
      'addCustom': 'Tambah Kustom',
      'addCustomItem': 'Tambah Item Kustom',
      'customItemName': 'Nama Item Kustom',
      'createdDate': 'Tanggal Dibuat',
      'pickupDateLabel': 'Tanggal Pengambilan',

      // Messages
      'connectionSuccessful': 'Koneksi berhasil!',
      'connectionFailed': 'Koneksi gagal',
      'settingsSavedSuccessfully': 'Pengaturan berhasil disimpan',
      'failedToSaveSettings': 'Gagal menyimpan pengaturan',
      'settingsResetToDefault': 'Pengaturan dikembalikan ke default',
      'failedToResetSettings': 'Gagal mengembalikan pengaturan',

      // Quick Actions & Settings
      'quickActions': 'Aksi Cepat',
      'resetToDefault': 'Kembalikan ke Default',
      'resetToDefaultTitle': 'Kembalikan ke Default',
      'resetToDefaultConfirm':
          'Apakah Anda yakin ingin mengembalikan URL backend ke default?',
      'language': 'Bahasa',
      'indonesian': 'ðŸ‡®ðŸ‡© Bahasa Indonesia',
      'english': 'ðŸ‡ºðŸ‡¸ English',
      'about': 'Tentang',
      'appName': 'Nama Aplikasi',
      'version': 'Versi',
      'currentUrl': 'URL Saat Ini',
    },
  };

  static String get(String key, {String locale = 'en'}) {
    return _strings[locale]?[key] ?? _strings['en']?[key] ?? key;
  }

  static String getString(Locale locale, String key) {
    final lang = locale.languageCode;
    return _strings[lang]?[key] ?? _strings['en']?[key] ?? key;
  }

  /// Convenience method to get a translated string using the locale from SettingsProvider
  static String tr(BuildContext context, String key) {
    final locale = context.read<SettingsProvider>().locale;
    return getString(locale, key);
  }

  /// Convenience method for watching locale changes (use in build methods)
  static String trWatch(BuildContext context, String key) {
    final locale = context.watch<SettingsProvider>().locale;
    return getString(locale, key);
  }
}
